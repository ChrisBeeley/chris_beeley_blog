<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Filling in non missing elements by row (Survey Monkey masterclass) | </title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="There must be other people out there doing this, so I’ll share this neat thing I found today.">
    <meta name="generator" content="Hugo 0.125.7">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/chris_beeley_blog/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:url" content="https://chrisbeeley.github.io/chris_beeley_blog/?p=1155/">
  <meta property="og:title" content="Filling in non missing elements by row (Survey Monkey masterclass)">
  <meta property="og:description" content="There must be other people out there doing this, so I’ll share this neat thing I found today.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2018-10-02T10:17:27+00:00">
    <meta property="article:modified_time" content="2018-10-02T10:17:27+00:00">

  <meta itemprop="name" content="Filling in non missing elements by row (Survey Monkey masterclass)">
  <meta itemprop="description" content="There must be other people out there doing this, so I’ll share this neat thing I found today.">
  <meta itemprop="datePublished" content="2018-10-02T10:17:27+00:00">
  <meta itemprop="dateModified" content="2018-10-02T10:17:27+00:00">
  <meta itemprop="wordCount" content="251">
  <meta itemprop="keywords" content="Uncategorized"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Filling in non missing elements by row (Survey Monkey masterclass)">
<meta name="twitter:description" content="There must be other people out there doing this, so I’ll share this neat thing I found today.">

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/chris_beeley_blog/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Filling in non missing elements by row (Survey Monkey masterclass)</h1>
      
      <p class="tracked">
        By <strong>chrisbeeley</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2018-10-02T10:17:27Z">October 2, 2018</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>There must be other people out there doing this, so I’ll share this neat thing I found today. Quite often, you’ll have a dataset that has a lot of columns, only one of which will have something in it for each row. Survey Monkey, in particular, produces these kinds of sheets if you use branching logic. So if you work in one bit of the Trust, your team name will be found in one column, but if you branched elsewhere in the survey because you work somewhere else, it is in another column. Lots of columns, but each individual has only one non-missing element in each (because they only work in one place and only see that question once).</p>
<p>In the past I’ve done hacky things with finding non missing elements in each column line by line and then gluing it all together. Well today I’ve got 24 columns so I wasn’t going to do it like that today. Sure enough, dplyr has a nice way of doing it, using <a href="https://rdrr.io/cran/dplyr/man/coalesce.html">coalesce</a>.</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;

coalesce(!!!(staffData %&gt;%
               select(TeamC1 : TeamC24)))
</code></pre><p>That’s it! It accepts vectors of the same length or, as in this case, a dataframe with !!! around it. Bang bang bang (as it’s pronounced) is like bang bang (!!) except it substitutes lots of things in one place instead of one thing in one place. So it’s like feeding coalesce a lot of vectors, which is what it wants.</p>
<p>I really can’t believe it’s that simple.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://chrisbeeley.github.io/chris_beeley_blog/" >
    &copy; 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
