<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/chris_beeley_blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=chris_beeley_blog/livereload" data-no-instant defer></script>
  

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="http://localhost:1313/chris_beeley_blog/favicon.ico" />
<meta property="og:url" content="http://localhost:1313/chris_beeley_blog/posts/">
  <meta property="og:site_name" content="Chris Beeley&#39;s blog">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

<title>Chris Beeley&#39;s blog | Posts</title>

    <link rel="stylesheet" href="/chris_beeley_blog/css/main.css">
  
      <link rel="stylesheet" href="/chris_beeley_blog/css/palette/catpuccin.css">

      <script src="/chris_beeley_blog/js/main.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

  
<body
    class="dark"
>
  
  <main>
    
  <div class="container pt-5">
    
    <div class="row mt-5 pt-5">
      
  <nav aria-label="breadcrumb" class="small">
    <ol class="breadcrumb fw-bold">
    <li class="breadcrumb-item">
      <a href="/chris_beeley_blog/posts"
        class="text-decoration-underline link-offset-3"
        
      >posts</a>
      
    </li>
    <li class="breadcrumb-item">
      <a href="https://github.com/ChrisBeeley/chris_beeley_blog"
        
          target="_blank" rel="noopener noreferrer"
        
      >github</a>
      
    </li>
    </ol>
  </nav>

    </div>
    
    
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-12-20T15:21:32&#43;00:00">December 20, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=1037/">Failure to produce pdf with RMarkdown tidyverse</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’m using tidyverse for everything now, as I’ve mentioned in previous posts, when I want a cup of tea I just run:</p>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 432 105"
      >
      <g transform='translate(8,16)'>
<text text-anchor='middle' x='0' y='4' fill='currentColor' style='font-size:1em'>&lt;</text>
<text text-anchor='middle' x='0' y='36' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='8' y='4' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='8' y='36' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='16' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='16' y='36' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='16' y='52' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='16' y='68' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='16' y='84' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='24' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='24' y='36' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='24' y='52' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='24' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='24' y='84' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='32' y='36' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='32' y='52' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='32' y='68' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='32' y='84' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='40' y='4' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='40' y='52' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='40' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='40' y='84' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='48' y='4' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='48' y='36' fill='currentColor' style='font-size:1em'>%</text>
<text text-anchor='middle' x='48' y='52' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='48' y='68' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='48' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='56' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='56' y='36' fill='currentColor' style='font-size:1em'>&gt;</text>
<text text-anchor='middle' x='56' y='52' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='56' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='56' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='64' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='64' y='36' fill='currentColor' style='font-size:1em'>%</text>
<text text-anchor='middle' x='64' y='52' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='64' y='68' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='64' y='84' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='72' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='72' y='52' fill='currentColor' style='font-size:1em'>k</text>
<text text-anchor='middle' x='72' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='72' y='84' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='80' y='4' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='80' y='52' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='80' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='4' fill='currentColor' style='font-size:1em'>"</text>
<text text-anchor='middle' x='88' y='52' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='88' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='96' y='4' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='96' y='52' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='96' y='68' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='104' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='104' y='52' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='112' y='4' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='112' y='52' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='112' y='68' fill='currentColor' style='font-size:1em'>k</text>
<text text-anchor='middle' x='120' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='120' y='52' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='120' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='128' y='4' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='128' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='136' y='4' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='136' y='52' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='136' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='144' y='52' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='144' y='68' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='152' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='152' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='160' y='4' fill='currentColor' style='font-size:1em'>;</text>
<text text-anchor='middle' x='160' y='52' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='160' y='68' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='168' y='52' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='176' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='176' y='68' fill='currentColor' style='font-size:1em'>%</text>
<text text-anchor='middle' x='184' y='4' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='184' y='52' fill='currentColor' style='font-size:1em'>%</text>
<text text-anchor='middle' x='184' y='68' fill='currentColor' style='font-size:1em'>&gt;</text>
<text text-anchor='middle' x='192' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='192' y='52' fill='currentColor' style='font-size:1em'>&gt;</text>
<text text-anchor='middle' x='192' y='68' fill='currentColor' style='font-size:1em'>%</text>
<text text-anchor='middle' x='200' y='4' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='200' y='52' fill='currentColor' style='font-size:1em'>%</text>
<text text-anchor='middle' x='208' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='216' y='4' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='232' y='4' fill='currentColor' style='font-size:1em'>;</text>
<text text-anchor='middle' x='248' y='4' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='256' y='4' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='264' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='272' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='280' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='288' y='4' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='296' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='304' y='4' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='312' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='320' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='328' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='336' y='4' fill='currentColor' style='font-size:1em'>"</text>
<text text-anchor='middle' x='352' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='360' y='4' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='368' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='376' y='4' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='384' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='392' y='4' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='400' y='4' fill='currentColor' style='font-size:1em'>"</text>
<text text-anchor='middle' x='408' y='4' fill='currentColor' style='font-size:1em'>"</text>
<text text-anchor='middle' x='416' y='4' fill='currentColor' style='font-size:1em'>&gt;</text>
</g>

    </svg>
  
</div>
<p>I just ran <a href="https://gist.github.com/ChrisBeeley/867ffe93f541797e48f3ad195a75efb9">code</a>(in a gist because the markup makes Hugo go strange) in a vanilla RStudio setup with pdflatex installed</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-12-08T16:54:38&#43;00:00">December 8, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=1030/">Font size of code in .Rpres presentations</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I don’t know if I even knew about the <a href="https://support.rstudio.com/hc/en-us/sections/200130218-R-Presentations">.Rpres presentation feature</a> in RStudio v. 0.98 and above. As I think I mentioned I’ve been rather ill for the last couple of years and I’m afraid I kind of fell out of touch with things a bit. Anyway, I’m all better now and I’m going to be giving a talk at the <a href="https://www.meetup.com/NottinghamR-Nottingham-R-Users-Group/">R User Group in Nottingham</a> (which I love profoundly) so I thought I’d do it this new sexy way.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-11-21T11:14:13&#43;00:00">November 21, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=1025/">Better Git commit messages</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Something else I’m trying to be better at is using Git. I did use it, briefly, a few years back but I never quite got the hang of it and I’ve reverted to the bad habit of having MainCode/ and TestingCode/ and TryNewFunction/ folders filled with near identical code.</p>
<p>So I’m back on the Git wagon again. Atom (see my <a href="http://chrisbeeley.net/?p=1023">previous blog post</a>) has beautiful Git integration, as you’d expect since it was built by the GitHub people. It also enforces a couple of conventions with writing Git commit messages, which inspired me on a Google search which led me to this, <a href="https://chris.beams.io/posts/git-commit/">a guide to writing better commit messages</a>.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-11-17T20:44:58&#43;00:00">November 17, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=1016/">Ellen Townsend: Small talk saves lives — IMH Blog (Nottingham)</a></h2>
      
      <p class="small opacity-75 post-summary">
        <blockquote>
<p>It sounds much too simple doesn’t it? Making small talk could save a life. But the truth is, it really could. Today SHRG is supporting the campaign launched by the Samaritans. They are asking us all to be courageous and strike up a conversation with someone if we are worried about them at a railway […]</p></blockquote>
<p>via <a href="https://imhblog.wordpress.com/2017/11/17/ellen-townsend-small-talk-saves-lives/">Ellen Townsend: Small talk saves lives — IMH Blog (Nottingham)</a></p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-09-15T09:05:04&#43;00:00">September 15, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=1017/">Filtering data straight into a plot with tidyverse</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’m still trying to go full tidyverse, as I believe I mentioned a while back. It’s clearly a highly useful approach, but on top of this I see a load of code in blogs and tutorials that uses a tidy approach. So unless I learn it I’m not going to have a lot of luck reading it. I saw somebody do the following a little while back and I really like it so I thought I’d share it.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-07-02T09:57:15&#43;00:00">July 2, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=1023/">One editor to rule them all- Atom</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’m very happy using RStudio for all my R code. It goes without saying that the support for R coding built into RStudio is phenomenal. If you don’t know loads of cool stuff RStudio does, you’re missing out, but that’s a blog post on its own.</p>
<p>I’ve never quite been happy with my choice for other general editing, though. Sometimes I write PHP, HTML, markdown, Python, or something else, and I’ve never really found an editor that I love. <a href="https://www.geany.org/">Geany</a> is pretty good and that’s what I have been using when I write PHP or HTML. I tended to write markdown in RStudio, which is kind of stupid, since RStudio is an awfully big hammer to crack that nut, but it does support markdown and I’m familiar with RStudio, so I was happy enough doing that. I never really found a Python IDE that I loved. As far as I can tell there isn’t really an RStudio equivalent in the Python world, something so well featured and brilliant that it’s really the only choice unless you have a very particular reason to use something else.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-05-23T14:17:18&#43;00:00">May 23, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=983/">Lazy tables with R and pander</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>One of the many things I love about R is how gloriously lazy it can help you to be. I’m writing a report at the moment and I need to make lots of tables in R Markdown. I need them to be proportions, expressed as a percentage, rounded to 0 decimal places, and I need to add (%) to each label on the table. That’s a lot of code when you’ve got 8 or 10 tables to draw, so I just made a function that does it. It takes two arguments, the variable you want tabulated, and the order in which you want the table. I need to specify the order manually because the default alphabetical ordering doesn’t work with all of the data that I want, as in the example here. Without ordering manually, the “Less than one year” category appears at the end.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-04-21T12:39:35&#43;00:00">April 21, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=957/">Quarters and modulo arithmetic</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>This is another post that’s mainly for my benefit when I inevitably forget. I’m working with dates in PHP which, unlike MySQL, does not have a built in quarter function for extracting the quarter from a year.</p>
<p>Even if it did, one would have to be very careful with it because quarters are actually defined differently in different countries. In the UK, where I am, April to June is the first quarter (and January to March the last). In other countries, including (I think) the US, the first quarter is January to March, and October to December the last.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-04-20T11:27:38&#43;00:00">April 20, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=955/">Consuming REST APIs with PHP and CURL</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I wasted such a lot of time on this that I must commit it to the internet on the off chance that it helps someone else in the same situation.</p>
<p>If you are using PHP to consume a RESTful API via CURL and you want to manipulate the data you get back it’s very important that you set CURLOPT_RETURNTRANSFER to true. This allows you to collect the response from the server in a variable. If you don’t set this option it will just echo the return to the screen, which is obviously of no use whatsoever.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-04-13T16:19:59&#43;00:00">April 13, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=936/">Converting a grouped plyr::ddply() to dplyr</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’m going full <a href="http://tidyverse.org/">tidyverse</a> at the moment and so I’m converting my old plyr code to dplyr. It’s been pretty steady going so far, although I had a bit of difficulty converting an instruction using ddply which carried out a function based on a subgrouping within the data. I wrote a toy example to get it right, I may as well share it with the internet in case it helps someone else. If you can’t figure out what I’m talking about with what the function does, just run the code. You’ll see what it is. Easier than explaining in words. The following two functions carry out the same task, the latter is a translation of the former.</p>
      </p>
      
    </div>
    
    
    
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        
        <li class="breadcrumb-item">
          <a href="/chris_beeley_blog/posts/page/8/">← back</a>
        </li>
        
        
        <li class="breadcrumb-item">
          <a href="/chris_beeley_blog/posts/page/10/">next →</a>
        </li>
        
      </ol>
    </nav>
    
  </div>

  </main>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
