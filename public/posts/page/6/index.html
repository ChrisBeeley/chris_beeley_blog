<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/chris_beeley_blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=chris_beeley_blog/livereload" data-no-instant defer></script>
  

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="http://localhost:1313/chris_beeley_blog/favicon.ico" />
<meta property="og:url" content="http://localhost:1313/chris_beeley_blog/posts/">
  <meta property="og:site_name" content="Chris Beeley&#39;s blog">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

<title>Chris Beeley&#39;s blog | Posts</title>

    <link rel="stylesheet" href="/chris_beeley_blog/css/main.css">
  
      <link rel="stylesheet" href="/chris_beeley_blog/css/palette/catpuccin.css">

      <script src="/chris_beeley_blog/js/main.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

  
<body
    class="dark"
>
  
  <main>
    
  <div class="container pt-5">
    
    <div class="row mt-5 pt-5">
      
  <nav aria-label="breadcrumb" class="small">
    <ol class="breadcrumb fw-bold">
    <li class="breadcrumb-item">
      <a href="/chris_beeley_blog/posts"
        class="text-decoration-underline link-offset-3"
        
      >posts</a>
      
    </li>
    <li class="breadcrumb-item">
      <a href="https://github.com/ChrisBeeley/chris_beeley_blog"
        
          target="_blank" rel="noopener noreferrer"
        
      >github</a>
      
    </li>
    </ol>
  </nav>

    </div>
    
    
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2019-03-31T16:48:05&#43;00:00">March 31, 2019</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2019-03-31-adding-line-returns-in-rmarkdown-in-a-loop/">Adding line returns in RMarkdown in a loop</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Another one that‚Äôs for me when I forget. The internet seems strangely reluctant to tell me how to do this, yet <a href="https://stackoverflow.com/questions/49561077/creating-a-new-line-within-an-rmarkdown-chunk">here it is</a> buried in the answer to something else.</p>
<p>Sometimes you are writing an RMarkdown document and wish to produce text with line returns between each piece. I can never work out how to do it. It‚Äôs very simple. Just two spaces and then \n. Like this ‚Äù \n‚Äù. Here‚Äôs some real code with it in.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2019-03-19T18:56:03&#43;00:00">March 19, 2019</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2019-03-19-producing-rmarkdown-reports-with-plumber/">Producing RMarkdown reports with Plumber</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I wasn‚Äôt going to post this until I got it working on the server but I‚Äôve got the wrong train ticket and am stuck in London St Pancras until 7pm so I thought I‚Äôd be productive and put it up now.</p>
<p>So I launched a new version of the patient experience dashboard. I forget if I mentioned it on here or not. I think not. It‚Äôs here <a href="http://109.74.194.173:8080/apps/SUCE/">http://109.74.194.173:8080/apps/SUCE/</a> and the code is here <a href="https://github.com/ChrisBeeley/patient-experience-dashboard">https://github.com/ChrisBeeley/patient-experience-dashboard</a>. (I should add that I‚Äôve launched a bit early because of an event so it will be a little buggy- forgive me for that).</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2019-03-17T18:27:09&#43;00:00">March 17, 2019</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2019-03-17-suppress-console-output-with-ggplot-purrr-and-rmarkdown/">Suppress console output with ggplot, purrr, and RMarkdown</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>So <a href="https://chrisbeeley.net/?p=1143">I posted a while back</a> about producing several plots at once with RMarkdown and purrr and how to suppress the console output in the document.</p>
<p>Well, I just spotted someone on Twitter having a similar problem and it turns out that the solution actually doesn‚Äôt work in ggplot! Interesting‚Ä¶</p>
<p>For ggplot, you need to excellent function walk() which is like map() except it‚Äôs called for its side effects (like disk access) rather than for its output per se.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2019-03-03T09:26:42&#43;00:00">March 3, 2019</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2019-03-03-a-world-of-plotthedots-and-what-else/">A world of #plotthedots and what else?</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p><img src="https://chrisbeeley.net/wp-content/uploads/2019/02/image.png" alt="image"></p>
<p>Reproduced above is a recent exchange on Twitter. I‚Äôd better open by saying this blog post is not impugning the work of Samantha Riley or any other plot the dots people. On the contrary, the whole #plotthedots movement is an important part of a cultural change that is happening within the NHS at the moment. But I would like to take up the rhetorical device Samantha uses, to explore the issues that we have understanding data in the NHS.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2019-02-17T15:46:33&#43;00:00">February 17, 2019</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2019-02-17-citing-r-packages-in-rmarkdown/">Citing R packages in RMarkdown</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I haven‚Äôt really done much in the way of citing papers in the last couple of years, I‚Äôve spent my time either messing around with Shiny servers or databases or writing RMarkdown reports- and being horribly ill, of course, haha!- see this blog, passim. Don‚Äôt worry, I‚Äôm as fit as a flea now üôÇ</p>
<p>Anyway, I‚Äôve been citing one or two papers today and I‚Äôve found it very easy to cite both papers and R packages in RMarkdown, so I‚Äôm here to tell you not to ignore it because it‚Äôs too hard, just do it. Step one: add the bottom line of the following to your YAML header:</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2019-02-03T17:45:39&#43;00:00">February 3, 2019</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2019-02-03-dplyr-function-to-replace-nested-ifelse-like-sql-case-when/">Dplyr function to replace nested ifelse (like SQL CASE WHEN)</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I hate nested ifelse statements in R code. I absolutely hate them. They are just ugly and difficult to read. I found this lovely function in dplyr called case_when (which is like the SQL CASE WHEN if you know that) that banished them forever. It‚Äôs easier if I just show you (this is from the documentation)</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;

x &lt;- 1:50
case_when(
  x %% 35 == 0 ~ &#34;fizz buzz&#34;,
  x %% 5 == 0 ~ &#34;fizz&#34;,
  x %% 7 == 0 ~ &#34;buzz&#34;,
  TRUE ~ as.character(x)
)
</code></pre><p>How wonderful is that? No more nested ifelse!</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2019-01-20T17:41:39&#43;00:00">January 20, 2019</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2019-01-20-data-science-accelerator-lesson-one-build-a-pipeline-and-ship-the-code/">Data science accelerator lesson one- build a pipeline and ship the code!</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>My exciting news is that I was accepted onto the <a href="https://www.gov.uk/government/publications/data-science-accelerator-programme/introduction-to-the-data-science-accelerator">data science accelerator</a> and have been doing it since late December. My project, basically, is all about using natural language processing to better understand the patient experience data that we collect (and, if I have time, the staff experience data too). Here are the goals:</p>
<ol>
<li>Using an unsupervised technique, generate a novel way of categorising the text data to give us a different perspective. We already have tagged data but I would like to interrogate the usefulness of the tags that we have used
<ol>
<li>Generate a system that, given a comment or set of comments, can find other comments within the data that are semantically similar. Note that this system will need to run live on the server, since it would be impossible to store the semantic similarity of every comment to every other comment</li>
<li>Generate a system that, instead of searching by word, searches by similarity to that word</li>
</ol>
</li>
<li>Produce a supervised learning algorithm which can be trained on a sample of tagged comments and then produce tags for comments that it has not previously seen
<ol>
<li>Produce a sentiment analysis function that can tag every comment in a database with how positive or negative it is</li>
<li>Produce reporting functions that can compute overall sentiment for a group of documents (e.g. of a particular service area) and optionally describe the change in sentiment over time</li>
</ol>
</li>
</ol>
<p>I‚Äôm not really sure if I‚Äôm going to get through all of it but I‚Äôve made a decent start. I‚Äôve made a <a href="https://trello.com/b/GlmtpsqB/data-science-accelerator">Trello board</a> and there‚Äôs a <a href="https://github.com/ChrisBeeley/naturallanguageprocessing">GitHub</a> too.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2019-01-08T21:41:49&#43;00:00">January 8, 2019</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2019-01-08-new-years-post/">New Year&amp;#8217;s post</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>So this is my annual New Year‚Äôs post, it‚Äôs an idea from David Allen that I‚Äôve done <a href="https://chrisbeeley.net/?p=1052">before</a>.</p>
<p>2018 was the year that I was finally (pretty much) better. I had my bowel and spleen removed in August 2017 and bled in quite a scary way, but by the time 2018 rolled around I was running 9 miles, building mileage ready for a marathon in May. It‚Äôs been a great year. I did have some pretty scary health problems (that I won‚Äôt go into) but it all worked out in the finish and I‚Äôm pretty much back to working and being happy with my family just as I was all the way back in 2014 before everything started to go wrong.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-11-16T14:28:40&#43;00:00">November 16, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-11-16-a-tidy-text-talk-and-some-stuff-from-my-shiny-book/">A tidy text talk and some stuff from my Shiny book</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>This is just a quick post to show some of the stuff that I‚Äôve published/ presented/ put on GitHub recently.</p>
<p>So my Shiny book, Web Application Development with R using Shiny, 3rd edition, is out, and I‚Äôve forked the code from the publisher‚Äôs repository onto my own GitHub to make it easier to find.</p>
<p>And I‚Äôve got another book about Shiny out which is all about UI development with Shiny, and I‚Äôve forked the code from that onto my GitHub, too</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-11-13T17:07:50&#43;00:00">November 13, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=1170/">Drawing stacked barcharts the tidyverse way</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Don‚Äôt judge me, but I do spend quite a lot of time making stacked barcharts of survey data. I‚Äôm trying to go full tidyverse (see this blog, passim) and there is a very neat way of doing it in the tidyverse which is very easy to expand out into functions, or purrr, or whatever. Of course, me being me I can never remember what it is so I end up reading the same SO answers over and over again.</p>
      </p>
      
    </div>
    
    
    
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        
        <li class="breadcrumb-item">
          <a href="/chris_beeley_blog/posts/page/5/">‚Üê back</a>
        </li>
        
        
        <li class="breadcrumb-item">
          <a href="/chris_beeley_blog/posts/page/7/">next ‚Üí</a>
        </li>
        
      </ol>
    </nav>
    
  </div>

  </main>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
