<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/chris_beeley_blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=chris_beeley_blog/livereload" data-no-instant defer></script>
  

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="http://localhost:1313/chris_beeley_blog/favicon.ico" />
<meta property="og:url" content="http://localhost:1313/chris_beeley_blog/posts/">
  <meta property="og:site_name" content="Chris Beeley&#39;s blog">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

<title>Chris Beeley&#39;s blog | Posts</title>

    <link rel="stylesheet" href="/chris_beeley_blog/css/main.css">
  
      <link rel="stylesheet" href="/chris_beeley_blog/css/palette/catpuccin.css">

      <script src="/chris_beeley_blog/js/main.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

  
<body
    class="dark"
>
  
  <main>
    
  <div class="container pt-5">
    
    <div class="row mt-5 pt-5">
      
  <nav aria-label="breadcrumb" class="small">
    <ol class="breadcrumb fw-bold">
    <li class="breadcrumb-item">
      <a href="/chris_beeley_blog/posts"
        class="text-decoration-underline link-offset-3"
        
      >posts</a>
      
    </li>
    <li class="breadcrumb-item">
      <a href="https://github.com/ChrisBeeley/chris_beeley_blog"
        
          target="_blank" rel="noopener noreferrer"
        
      >github</a>
      
    </li>
    </ol>
  </nav>

    </div>
    
    
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-03-10T11:28:06&#43;00:00">March 10, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=886/">Querying the Patient Opinion API from R</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p><a href="https://www.patientopinion.org.uk/">Patient Opinion</a> have a new API out. They are retiring the old API, so you’ll need to transfer over to the new one if you are currently using the old version, but in any case there are a number of advantages to doing so. The biggest one for me is the option to receive results in JSON (or JSONP) rather than XML (although you can still have XML if you want). The old XML output was fiddly and annoying to parse so personally I’m glad to see the back of it (you can see the horrible hacky code I wrote to parse the old version <a href="http://chrisbeeley.net/?p=487">here</a>). The JSON comes out beautifully using the built in functions from the R package <a href="https://cran.r-project.org/web/packages/httr/index.html">httr</a> which I shall be using to download and process the data.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-01-12T15:12:35&#43;00:00">January 12, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=871/">Concatenating text nicely with commas and &amp;#8220;and&amp;#8221;s</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Wow, this blog is quiet at the moment. I can’t even remember if I’ve written this anywhere but I had a liver transplant in May and I’ve been repeatedly hospitalised with complications ever since. So work and life are a little slow. I’m hoping to be back to full health in a few weeks.</p>
<p>Anyway, I was just writing some Shiny code and I have a dynamic text output consisting of one, two, or many pieces of text which needs to have commas and “and”s added to make natural English, like so:</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2016-10-05T13:13:56&#43;00:00">October 5, 2016</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=861/">Working as a coder at a technology company versus working as a coder in other contexts</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I was just skimming a <a href="https://learnpythonthehardway.org/book/advice.html">book about Python</a> and I found a rather interesting quote:</p>
<p>“Programming as a profession is only moderately interesting. It can be a good job, but you could make about the same money and be happier running a fast food joint. You’re much better off using code as your secret weapon in another profession.</p>
<p>People who can code in the world of technology companies are a dime a dozen and get no respect. People who can code in biology, medicine, government, sociology, physics, history, and mathematics are respected and can do amazing things to advance those disciplines.”</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2016-06-01T20:20:30&#43;00:00">June 1, 2016</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=824/">Open document formats and why we need them</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>The whole world is moving to <a href="http://www.opendocumentformat.org/">open document formats</a> for the obvious reason that in order to read and write documents one shouldn’t need to waste money on Microsoft’s increasingly ungainly Office application when perfectly good <a href="https://en.wikipedia.org/wiki/Free_and_open-source_software">free and open source</a> alternatives exist (thinking particularly of the mighty <a href="https://www.libreoffice.org/">LibreOffice</a>). The UK Government has <a href="https://www.gov.uk/guidance/open-document-format-odf-guidance-for-uk-government">formally adopted</a> an open standard for all of its documents.</p>
<p>Despite this many public bodies in the UK, including the NHS, councils, and many other organisations, continue to use Microsoft’s proprietary formats for documents. It may seem to the casual user that the arguments for proprietary versus open document formats are rather arcane. I would like to tell a story from my own life that illustrates why in actual fact every citizen and certainly every public body should be interested in open document formats.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2016-04-01T15:33:30&#43;00:00">April 1, 2016</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=779/">Backing up a remote MySQL database on a remote server using cron</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>This is more a collection of links, really, than a proper blog post, but I just spent quite a while figuring out how all of these different technologies all fit together to do the job I wanted so if you want to do what it says on the tin of this blog post then you should find it useful.</p>
<p>I have a remote server running a MySQL database. I wish to backup this server daily. I would rather do this on my other remote server than on my local machine because, obviously, my server is always switched on whereas my local machine isn’t. So the task is to dump a MySQL database to a file and upload it to a remote server.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2016-01-13T14:53:54&#43;00:00">January 13, 2016</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=796/">Make your own HTML tables in R</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’ve avoid writing HTML tables by hand in R, reasoning that it would be far too complicated. But the problem with using packages like pander and rmarkdown, much as I love those packages, is you can’t fine tune the outputs. So if a colleague asks you to add little extra touches for a report you can’t really do it.</p>
<p>So it was a nice surprise to find that it’s actually not that hard. Here’s a table with 3 columns which looks very nice with bootstrap (don’t know what the styling options are on WordPress so it just looks unformatted here)</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2015-11-18T18:36:25&#43;00:00">November 18, 2015</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=783/">G&#43;&#43; error compiling on R</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I was installing R packages (the httpuv package, but I imagine others would generate the same problem) on my Ubuntu server today and I got a very strange error message:</p>
<p>g++: error: Welcome: No such file or directory<br>
g++: error: to: No such file or directory<br>
g++: error: R!: No such file or directory</p>
<p>It was a problem with my .Rprofile.site file. That’s why it looks funny, because R is saying “Welcome to R”, but for some reason this is messing with g++. In my case it seemed to be generated by running R as sudo, but I need to do that to make the package library writable. Just invoke R at the terminal with:</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2015-09-30T11:45:28&#43;00:00">September 30, 2015</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=769/">Sharing files from host machine on virtualbox</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’ve really started getting into virtual machines recently. Firstly because I like to try different flavours of Linux and constantly reinstalling partitions is starting to get a bit of a drag, especially when it often takes ages to get the graphical desktop to work because of my silly graphics card. Secondly, and more importantly, because I’m finding if you want to do programming, or especially write about programming, you often need a “clean” system or a system set up a particular way to test things and work on multiple things at once. So the code I write for <a href="http://shiny.rstudio.com/">Shiny</a> is based on the newest 0.12 version. However, my server is all the way back on 0.7 for various reasons to do with browser compatibility. So this means I need a local 0.7 installation to test programs that I’m updating on the server. Or sometimes it can be important to check what the dependencies for your programs are. You may have installed something a year ago that makes everything work beautifully that you’ve long since forgotten about, and if you tell someone else to do what you’re doing it won’t work on their machine. In the Linux world technologies like <a href="https://www.docker.com/">Docker</a> which package up whole environments at the operating system level and help you to <a href="https://deis.com/blog/2015/sailing-past-dependency-hell-with-docker">manage dependencies</a> (amongst other things) are starting to spring up and in the R world things like <a href="https://rstudio.github.io/packrat/">packrat</a> roll up packages into bundles in order that all package versions are the same and dependencies satisfied.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2015-09-17T14:09:47&#43;00:00">September 17, 2015</time>
      <h2 class="h5"><a href="/chris_beeley_blog/?p=757/">Single file Shiny app to take GET parameters and return date range input boxes</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’ve spent quite a long time fiddling around with some code for the <a href="http://feedback.nottinghamshirehealthcare.nhs.uk/">feedback website</a> for which I am responsible for all the reporting so we can distribute custom URLs to individuals who have specific reports they want to run. We use <a href="http://shiny.rstudio.com/">Shiny</a> to do custom reports, the application lives <a href="http://feedback.nottinghamshirehealthcare.nhs.uk/reports/custom">here</a>, and many of the people who run the reports (our staff in <a href="http://www.nottinghamshirehealthcare.nhs.uk/">Nottinghamshire Healthcare NHS Trust</a>, mainly) would welcome the ability to have the date range preselected by means of a URL containing GET parameters which they could just click so that the date range is pre-selected.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2015-09-01T15:54:49&#43;00:00">September 1, 2015</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2015-09-01-producing-headings-in-word-files-programmatically-using-knitr/">Producing headings in Word files programmatically using knitr</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I love <a href="http://yihui.name/knitr/">knitr</a>. Sometimes I have to send people documents in Word. It works beautifully except when I want to produce headings programmatically in code using cat(). This is fine in HTML:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>```
</span></span><span style="display:flex;"><span>sapply(headings, function(x){
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  cat(paste0(&#34;&lt;h1&gt;&#34;, x, &#34;&lt;/h1&gt;&#34;))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>  cat(paste0(&#34;&lt;p&gt;&#34;, rep(&#34;Some text here&#34;, 10), &#34;&lt;/p&gt;&#34;))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>```</span></span></code></pre></div>
<p>However, when writing Word .docx files using <a href="http://rmarkdown.rstudio.com/">Rmarkdown</a> the heading tags are not recognised. Well, they’re not printed, so they obviously are recognised, but they don’t work.</p>
      </p>
      
    </div>
    
    
    
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        
        <li class="breadcrumb-item">
          <a href="/chris_beeley_blog/posts/page/9/">← back</a>
        </li>
        
        
        <li class="breadcrumb-item">
          <a href="/chris_beeley_blog/posts/page/11/">next →</a>
        </li>
        
      </ol>
    </nav>
    
  </div>

  </main>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
