<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/chris_beeley_blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=chris_beeley_blog/livereload" data-no-instant defer></script>
  

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="http://localhost:1313/chris_beeley_blog/favicon.ico" />
<meta property="og:url" content="http://localhost:1313/chris_beeley_blog/posts/">
  <meta property="og:site_name" content="Chris Beeley&#39;s blog">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

<title>Chris Beeley&#39;s blog | Posts</title>

    <link rel="stylesheet" href="/chris_beeley_blog/css/main.css">
  
      <link rel="stylesheet" href="/chris_beeley_blog/css/palette/catpuccin.css">

      <script src="/chris_beeley_blog/js/main.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

  
<body
    class="dark"
>
  
  <main>
    
  <div class="container pt-5">
    
    <div class="row mt-5 pt-5">
      
  <nav aria-label="breadcrumb" class="small">
    <ol class="breadcrumb fw-bold">
    <li class="breadcrumb-item">
      <a href="/chris_beeley_blog/posts"
        class="text-decoration-underline link-offset-3"
        
      >posts</a>
      
    </li>
    <li class="breadcrumb-item">
      <a href="https://github.com/ChrisBeeley/chris_beeley_blog"
        
          target="_blank" rel="noopener noreferrer"
        
      >github</a>
      
    </li>
    </ol>
  </nav>

    </div>
    
    
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-05-15T10:54:04&#43;00:00">May 15, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-05-15-recoding-to-na-with-dplyr/">Recoding to NA with dplyr</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Just very quickly again, still horribly busy, but this has been annoying me for ages and I finally figured it out. When you’re using recode from dplyr, you can’t recode to NA if you’re recoding to other things that aren’t NA, because it complains that the types aren’t compatible. So don’t do this:</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;

  mutate(Relationship = recode(Relationship, &#34;Co-Habiting&#34; = &#34;Co&#34;, 
    &#34;Divorced&#34; = &#34;Di&#34;, &#34;Married&#34; = &#34;Ma&#34;, &#34;Civil partnership&#34; = &#34;CI&#34;
    &#34;Single&#34; = &#34;Si&#34;, &#34;Widowed&#34; = &#34;Wi&#34;, &#34;Separated&#34; = &#34;Se&#34;, 
    &#34;Prefer not to say&#34; = NA))
</code></pre><p>Use na_if() instead:</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-05-01T09:11:34&#43;00:00">May 1, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-05-01-checking-memory-usage-in-r/">Checking memory usage in R</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Wow, I cannot believe I didn’t blog this. I just tried to find it on my own blog and I must have forgotten. Anyway, it’s <a href="https://stackoverflow.com/a/48953571/486245">an answer I gave on Stack Overflow</a> a little while ago, to do with measuring how much memory your R objects are using.</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;

install.packages(&#34;pryr&#34;)

library(pryr)

object_size(1:10)
## 88 B

object_size(mean)
## 832 B

object_size(mtcars)
## 6.74 kB
</code></pre><p>This is from Hadley Wickham’s <a href="http://adv-r.had.co.nz/memory.html">advanced R</a>.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-04-17T12:39:42&#43;00:00">April 17, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-04-17-convert-icons-to-different-colours/">Convert icons to different colours</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’m horribly, horribly busy (stay tuned until mid May-ish to hear about what I’ve been up to) but I’ve just done something so quickly and easily that I couldn’t resist sharing it.</p>
<p>So I’ve downloaded a little man icon, I’m going to use it in a pictogram to show the percentage of people who agree with something. Just a bit of fun for a presentation. The man is black, but I thought it would be nice to have green men who are saying happy things (“I felt supported”, that kind of thing) and red men who are saying unhappy things (“I felt isolated”, e.g.).</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-03-22T09:48:39&#43;00:00">March 22, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-03-22-securing-shiny-server-over-ssl-with-apache-on-ubuntu/">Securing Shiny Server over SSL with Apache on Ubuntu</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Well, I couldn’t find a guide for precisely this on the Internet, securing your Shiny Server over SSL (with Apache), but I did find the following links which were very useful and which I only adapted slightly.</p>
<p>Do have a read of the following if you’re so inclined, they’re both very useful, but neither told me exactly what to do.</p>
<p><a href="https://ipub.com/shiny-https/">https://ipub.com/shiny-https/</a><br>
<a href="https://support.rstudio.com/hc/en-us/articles/213733868-Running-Shiny-Server-with-a-Proxy">https://support.rstudio.com/hc/en-us/articles/213733868-Running-Shiny-Server-with-a-Proxy</a></p>
<p>This guide is for Ubuntu but I imagine the configuration will work on any Apache server. You’ll just need to figure out what the equivalent terminal commands are for whatever OS you’re using.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-03-08T18:47:49&#43;00:00">March 8, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-03-08-scraping-the-rstudio-webinar-list/">Scraping the RStudio webinar list</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I only just found this list of <a href="https://www.rstudio.com/resources/webinars/">RStudio webinars</a>, there’s loads of stuff on there, I really need to plow through a lot of it. What I really wanted was a list of them with links that I could archive and edit and rearrange so I could show which ones I am interested in, which I’ve already watched, and so on.</p>
<p>Well, if you’ve got a problem, and no-one else can help, then maybe you need… The R Team.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-02-22T13:05:51&#43;00:00">February 22, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-02-22-one-weird-trick-to-getting-column-types-right-with-read_csv/">One weird trick to getting column types right with read_csv</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Using read_csv from the tidyverse is so easy that I didn’t bother to look at the <a href="https://cran.r-project.org/web/packages/readr/README.html">readr documentation</a> for a long time. However, I’m glad I did, because there is, as they say in the click bait world, one weird trick to get your column types right with read_csv. read_csv (or the other delimited file reading functions like read_tsv) does a brilliant job guessing what column types things are but by default it only looks at 1000 rows. Fine for most datasets, but actually I have more than one dataset where the first 1000 rows are missing, which doesn’t help the parser at all. So do it manually and get it right. But what a pain, all that typing, right? Wrong. Just do this:</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-02-09T10:30:27&#43;00:00">February 9, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-02-09-analysing-runs-from-the-polar-web-flow-service/">Analysing runs from the Polar web flow service</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>Well, we’re still in New Year’s resolutions territory, so what better time to have a look at using R to analyse data collected from a run? For this analysis I have used the Polar Flow web service to download two attempts at the same <a href="http://www.parkrun.org.uk/forestrec/">Parkrun</a>, recorded on a Polar M600 (which I love, by the way, if you’re looking for a running/ smartwatch recommendation).</p>
<p>The background to the analysis is in the second of the two runs I thought I was doing really well and was going to crush my PB and it ended up being exactly the same as the previous run, in terms of total time taken, but with my heart rate a lot lower.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-01-26T21:31:27&#43;00:00">January 26, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-01-26-new-year-blog-post/">New Year blog post</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>So my favourite productivity guru, David Allen, he of <a href="https://gettingthingsdone.com/">Getting Things Done</a> fame, has a suggestion for a New Year review that you should carry out each year. His <a href="https://www.improvisedlife.com/2012/01/09/david-allens-potent-questions-for-a-new-year/">suggested structure</a> can be found here.</p>
<p>I think this is an excellent idea so I have set myself a recurring reminder to do it each year, starting now. And I may as well blog it so I can find it again and anyone else who’s interested can have a read and maybe be inspired to do their own.</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2018-01-22T16:27:34&#43;00:00">January 22, 2018</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2018-01-22-gathering-data-wide-to-long-in-the-tidyverse/">Gathering data (wide to long) in the tidyverse</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I seem to have a pretty severe mental block about the gather() function from dplyr so this is yet another post that to be honest is basically for me to refer to in 6 months when I forget all this stuff. So I’m going to address the mental block I have very specifically and show some code; hopefully it will help someone else out there.</p>
<p>So whenever I use gather I put the whole dataframe in. Say I’ve got ten variables. I whack the whole dataframe in and try to pull out just the ones I want using the select() notation at the end of the list of arguments. This DOES NOT MAKE ANY SENSE. You can’t do this:</p>
      </p>
      
    </div>
    
    <div class="row mb-3">
      
      
      <time class="small" datetime="2017-12-20T15:21:32&#43;00:00">December 20, 2017</time>
      <h2 class="h5"><a href="/chris_beeley_blog/posts/2017-12-20-failure-to-produce-pdf-with-rmarkdown-tidyverse/">Failure to produce pdf with RMarkdown tidyverse</a></h2>
      
      <p class="small opacity-75 post-summary">
        <p>I’m using tidyverse for everything now, as I’ve mentioned in previous posts, when I want a cup of tea I just run:</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;

house %&gt;%
  filter(kitchen == 1) %&gt;%
  select(tea, kettle) %&gt;%
  infuse()
</code></pre><p>I just ran <a href="https://gist.github.com/ChrisBeeley/867ffe93f541797e48f3ad195a75efb9">code</a>(in a gist because the markup makes Hugo go strange) in a vanilla RStudio setup with pdflatex installed</p>
<p>This is the code that you get if you set up an RMarkdown project in RStudio and select “compile to LaTeX”, and you want to do some data stuff with the tidyverse package.</p>
      </p>
      
    </div>
    
    
    
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        
        <li class="breadcrumb-item">
          <a href="/chris_beeley_blog/posts/page/7/">← back</a>
        </li>
        
        
        <li class="breadcrumb-item">
          <a href="/chris_beeley_blog/posts/page/9/">next →</a>
        </li>
        
      </ol>
    </nav>
    
  </div>

  </main>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
