<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head><script src="/chris_beeley_blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=chris_beeley_blog/livereload" data-no-instant defer></script>
    
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>Uncategorized - Chris Beeley&#39;s blog</title>
<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Chris Beeley\u0027s blog",
    
    "url": "http:\/\/localhost:1313\/chris_beeley_blog\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "http:\/\/localhost:1313\/chris_beeley_blog\/"
  
  
  
  
}
</script>

<meta property="og:url" content="http://localhost:1313/chris_beeley_blog/categories/Uncategorized/">
<meta property="og:type" content="website">
<meta property="og:site_name" content="Chris Beeley&#39;s blog">
   
<link rel="apple-touch-icon" sizes="180x180" href=" http://localhost:1313/chris_beeley_blog/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/chris_beeley_blog/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/chris_beeley_blog/favicon/favicon-16x16.png">


<meta name="generator" content="Hugo 0.124.1"><link rel="alternate" href="http://localhost:1313/chris_beeley_blog/index.xml" type="application/rss+xml" title="Chris Beeley&#39;s blog">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<link rel="stylesheet" href="http://localhost:1313/chris_beeley_blog/css/main.css">
<link disabled id="dark-mode-theme" rel="stylesheet" href="http://localhost:1313/chris_beeley_blog/css/dark.css"><link rel="stylesheet" href="http://localhost:1313/chris_beeley_blog/css/syntax.css"><link rel="stylesheet" href="http://localhost:1313/chris_beeley_blog/css/codeblock.css">




  </head>
  <body>
    
<div class="container fixed-top">
  <div class="row justify-content-center">
    <div class="col-sm-12 col-md-12 col-lg-10 col-xl-10">

      <nav class="navbar navbar-expand-lg navbar-light fixed-top p-0">
        <div class="container">
          
          <a class="navbar-brand fw-bold" href="http://localhost:1313/chris_beeley_blog/">Chris Beeley&#39;s blog</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav mb-2 mb-lg-0">
              

              
              <li class="nav-item nav-link">
                <a id="dark-mode-toggle" class="bi bi-sun"></a>
              </li>
              
            </ul>
          </div>
        </div>
      </nav>

    </div>
  </div>
</div>
    









<header class="header-section ">

  <div class="intro-header no-img mt-10">
    <div class="container">
      <div class="row justify-content-center">
        

          
          <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
            

            <div class="categories-heading">
              

              

              

              
              

              

              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-md-12">
       
      <div class="row">
        
          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <div class="card h-100 single-post-card shadow-effect bg-faded-light">
        <a href="http://localhost:1313/chris_beeley_blog/?p=230/">
            <div class="card-body">

                <h3 class="fw-bold post-title">Easy tables for publication</h3>
                

                <p class="post-meta">
                    <span class="post-meta">
  
  
  &nbsp;July 8, 2012 

  

  
  
  
</span>


                </p>
                
                <div class="post-entry">

                    
                    <p>I’m writing for a journal article today and it’s the familiar problem of how to export all of the beautiful tables and graphs from LaTeX to Word (using R, of course).</p>
<p>It’s surprisingly easy to get a table from R into Word (or Open Office, or…). Just export the table to a text file and use tab-delimiting:</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;
write.table(mytable1, &#34;Summary.txt&#34;, sep=&#34;t&#34;)
</code></pre><p>Then simply copy the table into the file, select “Convert text to table”, make sure “tab-delimiting” is selected, which it probably is, and voila.</p>
<p>You can be even sneakier than that though without too much effort.</p>
<p>I’ve been pasting together the familiar “mean (sd)” format used in tables quite easily like so:</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;
varNames=c(&#34;H.Tot&#34;, &#34;C.tot&#34;, &#34;R.tot&#34;, &#34;HCRtot&#34;)

sapply(varNames, function(m) rbind(paste(round(tapply(mydata[,m], mydata[,&#34;Dir&#34;], mean, na.rm=TRUE), 2),
    &#34; (&#34;, round(tapply(mydata[,m], mydata[,&#34;Dir&#34;], sd, na.rm=TRUE), 2), &#34;)&#34;, sep=&#34;&#34;)))
</code></pre><p>Somehow coming up with generic solutions for transferring tables is a lot less depressing than sitting typing them out or manually tidying up SPSS output.</p>
<p>Apologies for the poor code formatting, incidentally, I can’t seem to work out how to format correctly on the blog. My version on RStudio is a lot more readable.</p>
<p>EDIT:</p>
<p>I’m glad I did this, because I’ve just been told that I put a variable in that I shouldn’t have done and so I have to re-do all the tables! Looks like I was right about generic solutions and typing!</p>

                    
                </div>

                <div class="read-more-section">
                    <h6>Read more</h6>
                </div>
            </div>

            
            
        </a>
    </div>
</div> 
        
          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <div class="card h-100 single-post-card shadow-effect bg-faded-light">
        <a href="http://localhost:1313/chris_beeley_blog/?p=219/">
            <div class="card-body">

                <h3 class="fw-bold post-title">A joke about R</h3>
                

                <p class="post-meta">
                    <span class="post-meta">
  
  
  &nbsp;May 7, 2012 

  

  
  
  
</span>


                </p>
                
                <div class="post-entry">

                    
                    <p>I’m so sorry, I’ve come across an R joke I must share. If you don’t care about R, look away now because this post is definitely not for you.</p>
<p>A scientist and a statistician are working together in the office. The scientist says to the statistician “Which is the fastest way to identify non-zero elements in an array using R?”.</p>
<p>The statistician replies “Yes.”</p>
<p>“No, which is the fastest way?”</p>
<p>“Yes, it is.”</p>
<p>“No, I’m asking you, which is the fastest way?”</p>
<p>“Yes, you’re right, it is.”</p>
<p>Etc…</p>
<p>[if you don’t get it and you’re still reading, <a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/which.html">here</a>].</p>
<p>Thanks to Hadley Wickham, progenitor of the first R joke I’ve come across.</p>
<p>EDIT: I thought I stole this joke structure from the “Hu is the President of China” bit (I forget where I heard it from) but thanks to the magic of Twitter I now know that they stole it from Abbott and Costello:</p>
<!-- raw HTML omitted -->

                    
                </div>

                <div class="read-more-section">
                    <h6>Read more</h6>
                </div>
            </div>

            
            
        </a>
    </div>
</div> 
        
          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <div class="card h-100 single-post-card shadow-effect bg-faded-light">
        <a href="http://localhost:1313/chris_beeley_blog/?p=218/">
            <div class="card-body">

                <h3 class="fw-bold post-title">R-Uni (A List of Free R Tutorials and Resources in University webpages)</h3>
                

                <p class="post-meta">
                    <span class="post-meta">
  
  
  &nbsp;April 26, 2012 

  

  
  
  
</span>


                </p>
                
                <div class="post-entry">

                    
                    <p><a href="http://pairach.com/2012/02/26/r-tutorials-from-universities-around-the-world/">List</a> of R tutorials for beginners.</p>

                    
                </div>

                <div class="read-more-section">
                    <h6>Read more</h6>
                </div>
            </div>

            
            
        </a>
    </div>
</div> 
        
          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <div class="card h-100 single-post-card shadow-effect bg-faded-light">
        <a href="http://localhost:1313/chris_beeley_blog/?p=215/">
            <div class="card-body">

                <h3 class="fw-bold post-title">Great analogue visualisation</h3>
                

                <p class="post-meta">
                    <span class="post-meta">
  
  
  &nbsp;April 11, 2012 

  

  
  
  
</span>


                </p>
                
                <div class="post-entry">

                    
                    <p>Perhaps another chapter in the infographics versus data graphics debate, a truly eye-catching visualisation of sugar contents in different drinks.</p>
<p><a href="http://wp.me/p240RE-cd">Rethink Your Drink!</a>.</p>

                    
                </div>

                <div class="read-more-section">
                    <h6>Read more</h6>
                </div>
            </div>

            
            
        </a>
    </div>
</div> 
        
          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <div class="card h-100 single-post-card shadow-effect bg-faded-light">
        <a href="http://localhost:1313/chris_beeley_blog/?p=209/">
            <div class="card-body">

                <h3 class="fw-bold post-title">Parallelising with R</h3>
                

                <p class="post-meta">
                    <span class="post-meta">
  
  
  &nbsp;April 7, 2012 

  

  
  
  
</span>


                </p>
                
                <div class="post-entry">

                    
                    <p>I’ve been fitting some generalised linear mixed effects models with 400,000 rows or so and it takes a while even on my quad core 3.4Ghz behemoth. The time has come for me to learn how to use multiple cores with R. The <a href="http://stat.ethz.ch/R-manual/R-devel/library/parallel/doc/parallel.pdf">parallel</a> library which comes with the new-ish R 2.14 makes it pretty easy. For my purposes, all I needed to do was pop all of my calculations in a list and then call <a href="http://www.rforge.net/doc/packages/multicore/mclapply.html">mclapply</a> on them.</p>
<p>This is my first time parallelising so this might not be the best way to do it, if you know better please say in the comments, but if you are interested to give it a try then this should get you started.</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;

mymodels=list(&#34;glmer(AllViol~Clinical*Dir+(1|ID),
              family=binomial, data=testF)&#34;,
              &#34;glmer(AllViol~Risk*Dir+(1|ID), 
              family=binomial, data=testF)&#34;,
              &#34;glmer(AllViol~Historical*Dir+(1|ID), 
              family=binomial, data=testF)&#34;,
              &#34;glmer(SerViol~Clinical*Dir+(1|ID), 
              family=binomial, data=testSer)&#34;,
              &#34;glmer(SerViol~Risk*Dir+(1|ID), 
              family=binomial, data=testSer)&#34;,
              &#34;glmer(SerViol~Historical*Dir+(1|ID),
              family=binomial, data=testSer)&#34;
              )
  
myfinal=mclapply(mymodels, function(x) eval(parse(text=x)))
</code></pre><p>One thing I would add is that this by no means gets the full speed out of my CPU, which only ran at about 30% and not even all of the time. I think there’s probably more that I could do to get a speed boost, but this has got this job done and got me thinking about parallel processing.</p>

                    
                </div>

                <div class="read-more-section">
                    <h6>Read more</h6>
                </div>
            </div>

            
            
        </a>
    </div>
</div> 
        
          <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6  mb-4">
    <div class="card h-100 single-post-card shadow-effect bg-faded-light">
        <a href="http://localhost:1313/chris_beeley_blog/?p=205/">
            <div class="card-body">

                <h3 class="fw-bold post-title">Quick R tip- making scripts work across OS&amp;#8217;s</h3>
                

                <p class="post-meta">
                    <span class="post-meta">
  
  
  &nbsp;April 5, 2012 

  

  
  
  
</span>


                </p>
                
                <div class="post-entry">

                    
                    <p>Quick thought for newbies to R. I have spent four years loading in data like this</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;
mydatafirst=read.csv(&#34;D:\Dropbox\R-files\Project1\etc.&#34;)
</code></pre><p>on my Windows machine and like this</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;
mydatafirst=read.csv(&#34;/home/chris/Dropbox/R-files/Project1/etc.&#34;)
</code></pre><p>on my Linux machine. I would comment out the one I wasn’t using at the time.</p>
<p>It’s fine for a while but once you start reading multiple dataframes (particularly if they’re not all loaded at the start) it gets very fiddly and annoying. Don’t do this. Just set your working directory. You can do it manually:</p>
<p>setwd(“D:\Dropbox\R-files\etc.”)</p>
<p>Or, even better, the seamless option:</p>
<pre tabindex="0"><code>&lt;pre class=&#34;brush: r; title: ; notranslate&#34; title=&#34;&#34;&gt;
setwd(ifelse(Sys.info()[&#39;sysname&#39;]==&#34;Windows&#34;;,
             &#34;D:\Dropbox\R-files\Project1\&#34;,
             &#34;~/Dropbox/R-files/Project1/&#34;))
</code></pre><p>Mmm, I can almost taste the hours I’ll save in the course of a year.</p>

                    
                </div>

                <div class="read-more-section">
                    <h6>Read more</h6>
                </div>
            </div>

            
            
        </a>
    </div>
</div> 
        
      </div>
    </div>
  </div>
</div>

<div class="container">
 <div class="row font-sans"> 
   <div class="col-md-12 mt-10">
      <nav aria-label="Page navigation"> 
      <ul class= "pagination justify-content-end">    
      
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/chris_beeley_blog/categories/Uncategorized/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/chris_beeley_blog/categories/Uncategorized/page/24/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/chris_beeley_blog/categories/Uncategorized/page/23/" aria-label="Page 23" class="page-link" role="button">23</a>
      </li>
      <li class="page-item">
        <a href="/chris_beeley_blog/categories/Uncategorized/page/24/" aria-label="Page 24" class="page-link" role="button">24</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 25" class="page-link" role="button">25</a>
      </li>
      <li class="page-item">
        <a href="/chris_beeley_blog/categories/Uncategorized/page/26/" aria-label="Page 26" class="page-link" role="button">26</a>
      </li>
      <li class="page-item">
        <a href="/chris_beeley_blog/categories/Uncategorized/page/27/" aria-label="Page 27" class="page-link" role="button">27</a>
      </li>
      <li class="page-item">
        <a href="/chris_beeley_blog/categories/Uncategorized/page/26/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/chris_beeley_blog/categories/Uncategorized/page/29/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul> 
      </ul>
      </nav> 
    </div>
  </div>
</div>


    


<footer>

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <ul
          class="list-inline list-group list-group-horizontal text-center footer-links d-flex justify-content-center flex-row">

          
          
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
          2023
          

          
          &nbsp;&bull;&nbsp;
          <a href="http://localhost:1313/chris_beeley_blog/">Chris Beeley&#39;s blog</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Powered by <a href="https://gohugo.io">Hugo</a> & <a href="https://github.com/binokochumolvarghese/lightbi-hugo">Lightbi.</a>&nbsp; Made with ❤ by <a href="https://binovarghese.com">Bino</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://code.jquery.com/jquery-3.7.0.slim.min.js" integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script><script src="http://localhost:1313/chris_beeley_blog/js/dark-mode.js"></script>
    
  </body>
</html>

